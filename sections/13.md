### 13. Filesystem Features: Swap, Quotas, Usage

  * **Virtual memory** can make **Linux** function as if it has more memory than  
    it physically has, and works in two ways:
      1. Many programs don't use all the memory they have permission to use.  
        This is because child processes are created using **copy-on-write** (*COW*)
        and only gets a new page of memory if there is a change
      2. memory can be swapped to disk when inactive and only recalled when needed
        again
    * swapping is done in dedicated files or partitions, and **Linux** permits  
      multiple areas to be designated, with alternate priorities
    * recommended swap size is usually the amount of RAM in the system
    * `cat /proc/swaps`: displays what areas the system is using for swap
    * `free -o`: current usage
    * `mkswap`: format a swap partition or file
    * `swapon`: activate a swap partition or file
    * `swapoff`: deactivate a swap partition or file
    * **Note**: kernel memory is never swapped, unlike some other OSes
  * **Disk quotas** control the maximum space a particular user/group is allowed
    * `quotacheck`: generates, updates quota accounting files
    * `quotaon`: enable quota accounting
    * `quotaoff`: disable quota accounting
    * `edquota`: edit user or group quotas
    * `quota`: reports on usage and limits
    * Quotas require files `aquota.user` and `aquota.group` in root directory of  
      filesystem using quotas
    * Quotas can be disabled/enabled on filesystem/UID/GID basis
    * some filesystems have their own quota utilities, e.g: `xfs_quota`
    * filesystem quotas must be enabled as a mount option when mounting:
      1. `-o usrquota`
      2. `-o grpquota`
      3. both separated by a comma
        **Note**: you may add these options to `/etc/fstab`
      * run `quotacheck` to setup
      * enable quotas on filesystem
      * set quotas with `edquota`
